<html>

<head>
    <script>
        console.log("Replacing...");
        var traverseResult;
        var node = document;
        var result = findElementsContaining(node, "Asd");
        console.log(result);

        function findElementsContaining(node, querry) {
        	traverseResult = new Array();
        	traverseChildren(node, querry);
        	return traverseResult;
        }

        function traverseChildren(node, querry) {
        	//console.log("Traversing: ");
        	//console.log(node);
            if (node.childNodes !== undefined) {
            	var childCount = node.childNodes.length;
                //console.log(childCount + " node children");
                if (childCount < 1) {
                	//console.log("No more children in " + node);
                } else {
	                for (var i = 0; i < childCount; ++i) {
	                    var child = node.childNodes[i];
	                    if (child.innerHTML != null) {
	                    	if (child.innerHTML.indexOf(querry) != - 1) {
	                    		traverseChildren(child, querry);
	                    	}
	                    } else if (child.nodeValue != null) {
	                    	if (child.nodeValue.indexOf(querry) != - 1) {
	                    		//console.log(" - Element found");
	                    		traverseResult.push(node);
	                    	}
	                    }
	                }
                }
                
            } else {
              //console.log("Childnodes undefined");
            }
        }
    </script>
</head>
<body>
    <div>
        <h1>Test</h1>
        <h2>Asd Meh</h2>
    </div>
    <div>Meh</div>
</body>

</html>